<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AEO Flashcards Ultimate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        .perspective-1000 { perspective: 1000px; }
        .backface-hidden { backface-visibility: hidden; }
        .transform-style-3d { transform-style: preserve-3d; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .card-transition { transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        
        @media print {
            .no-print { display: none !important; }
            body { background-color: white !important; color: black !important; }
            .print-card { break-inside: avoid; border: 1px solid #ddd !important; margin-bottom: 1rem; }
        }

        .dark { background-color: #0f172a; color: #f1f5f9; }
        .dark .bg-white { background-color: #1e293b; border-color: #334155; }
        .dark .text-slate-600 { color: #94a3b8; }
        .dark .text-slate-800 { color: #f1f5f9; }
        .dark .border { border-color: #334155; }

        .progress-ring { transition: stroke-dashoffset 0.35s; transform: rotate(-90deg); transform-origin: 50% 50%; }
    </style>
</head>
<body class="bg-slate-50 transition-colors duration-300">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        const INITIAL_DATA = [
            { id: 1, q: "Yanıt Motoru Optimizasyonu (AEO) nedir?", a: "AEO, içeriğin web sitelerine tıklatma amacıyla değil; ChatGPT, Perplexity ve Google AI gibi yapay zekâ sistemleri tarafından doğrudan yanıt olarak kullanılacak şekilde optimize edilmesidir." },
            { id: 2, q: "AEO'nun temel amacı nedir?", a: "Yapay zekâların kullanıcı sorularına verdiği yanıtlarda bir marka veya içeriğin referans alınmasını sağlamaktır." },
            { id: 3, q: "AEO stratejisinin ilk adımı nedir?", a: "İçeriğin, kullanıcıların yapay zekâlara sorduğu gerçek sorular etrafında yapılandırılmasıdır." },
            { id: 4, q: "AEO sürecinde içerik nasıl ele alınır?", a: "İçerik, yapay zekâların kolayca anlayabileceği, alıntılayabileceği ve güvenilir bulacağı şekilde düzenlenir." },
            { id: 5, q: "Kullanıcı AEO senaryosunda nasıl arama yapar?", a: "Kullanıcı, geleneksel arama motoru yerine ChatGPT gibi yapay zekâ destekli bir araca doğrudan soru sorar." },
            { id: 6, q: "Geleneksel SEO’da Google ne sunar?", a: "Google, kullanıcıya genellikle 10 adet web sitesi bağlantısı gösterir." },
            { id: 7, q: "AEO senaryosunda yapay zekâ ne yapar?", a: "Yapay zekâ, birden fazla kaynaktan aldığı bilgileri sentezleyerek tek bir net yanıt üretir." },
            { id: 8, q: "AEO sayesinde bir marka nasıl algılanır?", a: "Marka, yapay zekâ tarafından güvenilir ve otorite bir kaynak olarak algılanır." },
            { id: 9, q: "AEO’nun yarattığı yeni rekabet ortamının amacı nedir?", a: "Tıklamalar için değil, yapay zekâların referans göstereceği kaynak olmak için rekabet etmektir." },
            { id: 10, q: "SEO’nun temel farkı nedir?", a: "SEO, insanlar arama yaptığında bulunmayı hedefler." },
            { id: 11, q: "AEO’nun temel farkı nedir?", a: "AEO, yapay zekâ yanıt verdiğinde alıntılanmayı hedefler." },
            { id: 12, q: "AEO pazarlamada hangi hedefe odaklanır?", a: "Yapay zekânın alıntılaması gereken uzman olarak konumlanmaya odaklanır." },
            { id: 13, q: "AEO hangi sistemler için optimize edilir?", a: "Yapay zekâ destekli arama ve yanıt motorları için optimize edilir." },
            { id: 14, q: "SEO ve AEO arasındaki temel fark nedir?", a: "SEO tıklamaya, AEO ise doğrudan yanıt içinde görünürlüğe odaklanır." }
        ];

        function App() {
            const [view, setView] = useState('study'); // 'study', 'print', 'list'
            const [currentIndex, setCurrentIndex] = useState(0);
            const [isFlipped, setIsFlipped] = useState(false);
            const [isDarkMode, setIsDarkMode] = useState(false);
            const [cards, setCards] = useState(INITIAL_DATA);
            const [isFinished, setIsFinished] = useState(false);
            const [searchTerm, setSearchTerm] = useState('');
            
            // Skor ve Zaman
            const [correctCount, setCorrectCount] = useState(0);
            const [wrongCount, setWrongCount] = useState(0);
            const [timer, setTimer] = useState(0);
            const [isActive, setIsActive] = useState(false);

            // LocalStorage
            const [learnedCards, setLearnedCards] = useState(() => {
                const saved = localStorage.getItem('aeo_ultimate_learned');
                return saved ? new Set(JSON.parse(saved)) : new Set();
            });

            useEffect(() => {
                localStorage.setItem('aeo_ultimate_learned', JSON.stringify([...learnedCards]));
            }, [learnedCards]);

            useEffect(() => {
                let interval = null;
                if (isActive && !isFinished && view === 'study') {
                    interval = setInterval(() => setTimer(t => t + 1), 1000);
                } else {
                    clearInterval(interval);
                }
                return () => clearInterval(interval);
            }, [isActive, isFinished, view]);

            useEffect(() => {
                lucide.createIcons();
            }, [view, isFlipped, currentIndex, isDarkMode, isFinished]);

            const currentCard = cards[currentIndex];
            const progress = ((currentIndex + 1) / cards.length) * 100;
            const accuracy = correctCount + wrongCount > 0 
                ? Math.round((correctCount / (correctCount + wrongCount)) * 100) 
                : 0;

            const nextCard = useCallback(() => { 
                if (currentIndex < cards.length - 1) {
                    setIsFlipped(false); 
                    setCurrentIndex((prev) => prev + 1); 
                } else {
                    setIsFinished(true);
                    setIsActive(false);
                    if (accuracy > 70) {
                        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                    }
                }
            }, [currentIndex, cards.length, accuracy]);

            const handleScore = (type) => {
                if (type === 'correct') {
                    setCorrectCount(prev => prev + 1);
                    const newSet = new Set(learnedCards);
                    newSet.add(currentCard.id);
                    setLearnedCards(newSet);
                } else {
                    setWrongCount(prev => prev + 1);
                }
                setTimeout(nextCard, 300);
            };

            const speak = (text) => {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'tr-TR';
                window.speechSynthesis.speak(utterance);
            };

            const resetQuiz = () => {
                setCurrentIndex(0);
                setIsFlipped(false);
                setIsFinished(false);
                setCorrectCount(0);
                setWrongCount(0);
                setTimer(0);
                setIsActive(true);
            };

            const formatTime = (s) => {
                const mins = Math.floor(s / 60);
                const secs = s % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            const filteredCards = cards.filter(c => 
                c.q.toLowerCase().includes(searchTerm.toLowerCase()) || 
                c.a.toLowerCase().includes(searchTerm.toLowerCase())
            );

            return (
                <div className={`${isDarkMode ? 'dark' : ''} min-h-screen transition-colors duration-300`}>
                    <div className="max-w-4xl mx-auto p-4 md:p-8">
                        {/* Header */}
                        <header className="flex flex-col md:flex-row justify-between items-center mb-8 gap-4 no-print">
                            <div className="flex items-center gap-3">
                                <div className="bg-indigo-600 p-2 rounded-xl text-white shadow-lg">
                                    <i data-lucide="zap"></i>
                                </div>
                                <div>
                                    <h1 className="text-xl font-black tracking-tight text-slate-800 dark:text-white leading-none">AEO ULTIMATE</h1>
                                    <p className="text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1">Mastery Edition</p>
                                </div>
                            </div>
                            
                            <nav className="flex items-center gap-1 bg-white dark:bg-slate-800 p-1 rounded-2xl border shadow-sm">
                                <button onClick={() => {setView('study'); resetQuiz();}} className={`px-4 py-2 rounded-xl text-xs font-bold transition-all ${view === 'study' ? 'bg-indigo-600 text-white' : 'text-slate-500 hover:bg-slate-50'}`}>SINAV</button>
                                <button onClick={() => setView('list')} className={`px-4 py-2 rounded-xl text-xs font-bold transition-all ${view === 'list' ? 'bg-indigo-600 text-white' : 'text-slate-500 hover:bg-slate-50'}`}>KÜTÜPHANE</button>
                                <button onClick={() => setView('print')} className={`px-4 py-2 rounded-xl text-xs font-bold transition-all ${view === 'print' ? 'bg-indigo-600 text-white' : 'text-slate-500 hover:bg-slate-50'}`}>YAZDIR</button>
                                <div className="w-px h-6 bg-slate-200 dark:bg-slate-700 mx-1"></div>
                                <button onClick={() => setIsDarkMode(!isDarkMode)} className="p-2 text-slate-400 hover:text-indigo-600 transition-colors">
                                    <i data-lucide={isDarkMode ? "sun" : "moon"} className="w-4 h-4"></i>
                                </button>
                            </nav>
                        </header>

                        <main>
                            {view === 'study' && (
                                isFinished ? (
                                    /* SONUÇ EKRANI */
                                    <div className="animate-in zoom-in duration-500 max-w-xl mx-auto text-center py-10">
                                        <div className="bg-white dark:bg-slate-800 rounded-[3rem] p-12 shadow-2xl border border-slate-100 dark:border-slate-700">
                                            <div className={`w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 ${accuracy > 70 ? 'bg-green-100 text-green-600' : 'bg-amber-100 text-amber-600'}`}>
                                                <i data-lucide={accuracy > 70 ? "award" : "frown"} className="w-12 h-12"></i>
                                            </div>
                                            <h2 className="text-4xl font-black text-slate-800 dark:text-white mb-2">
                                                {accuracy > 70 ? "Mükemmel!" : "Biraz Daha Çalış!"}
                                            </h2>
                                            <p className="text-slate-500 dark:text-slate-400 font-medium mb-10">
                                                {cards.length} soruyu <b>{formatTime(timer)}</b> sürede tamamladın.
                                            </p>
                                            
                                            <div className="grid grid-cols-3 gap-6 mb-10">
                                                <div className="space-y-1">
                                                    <p className="text-[10px] font-black text-slate-400 uppercase tracking-tighter">DOĞRU</p>
                                                    <p className="text-3xl font-black text-green-500">{correctCount}</p>
                                                </div>
                                                <div className="space-y-1 border-x border-slate-100 dark:border-slate-700">
                                                    <p className="text-[10px] font-black text-slate-400 uppercase tracking-tighter">YANLIŞ</p>
                                                    <p className="text-3xl font-black text-red-500">{wrongCount}</p>
                                                </div>
                                                <div className="space-y-1">
                                                    <p className="text-[10px] font-black text-slate-400 uppercase tracking-tighter">BAŞARI</p>
                                                    <p className="text-3xl font-black text-indigo-600">%{accuracy}</p>
                                                </div>
                                            </div>

                                            <button 
                                                onClick={resetQuiz}
                                                className="w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black shadow-xl shadow-indigo-200 dark:shadow-none transition-all flex items-center justify-center gap-3 active:scale-[0.98]"
                                            >
                                                <i data-lucide="play" className="w-5 h-5 fill-current"></i> YENİDEN BAŞLA
                                            </button>
                                        </div>
                                    </div>
                                ) : (
                                    /* SINAV EKRANI */
                                    <div className="space-y-6 no-print animate-in fade-in duration-500">
                                        <div className="flex flex-wrap justify-center gap-3">
                                            <div className="px-4 py-2 bg-white dark:bg-slate-800 rounded-xl border shadow-sm flex items-center gap-2">
                                                <i data-lucide="timer" className="w-3 h-3 text-indigo-500"></i>
                                                <span className="text-xs font-black font-mono dark:text-white">{formatTime(timer)}</span>
                                            </div>
                                            <div className="px-4 py-2 bg-white dark:bg-slate-800 rounded-xl border shadow-sm flex items-center gap-2">
                                                <i data-lucide="layers" className="w-3 h-3 text-indigo-500"></i>
                                                <span className="text-xs font-black dark:text-white">{currentIndex + 1} / {cards.length}</span>
                                            </div>
                                            <div className="px-4 py-2 bg-green-50 dark:bg-green-900/20 rounded-xl border border-green-100 dark:border-green-900/30 flex items-center gap-2">
                                                <i data-lucide="check" className="w-3 h-3 text-green-600"></i>
                                                <span className="text-xs font-black text-green-600">{correctCount}</span>
                                            </div>
                                        </div>

                                        <div className="relative h-[22rem] w-full perspective-1000" onClick={() => { if(!isFlipped) { setIsFlipped(true); setIsActive(true); } }}>
                                            <div className={`relative w-full h-full card-transition transform-style-3d cursor-pointer ${isFlipped ? 'rotate-y-180' : ''}`}>
                                                {/* Ön Yüz */}
                                                <div className="absolute inset-0 backface-hidden bg-white dark:bg-slate-800 rounded-[2.5rem] shadow-xl border-2 border-slate-50 dark:border-slate-700 p-10 flex flex-col items-center justify-center text-center">
                                                    <span className="absolute top-8 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em]">SORU</span>
                                                    <p className="text-2xl md:text-3xl font-black leading-tight text-slate-800 dark:text-white px-2">{currentCard.q}</p>
                                                    <div className="absolute bottom-8 flex items-center gap-4">
                                                        <button onClick={(e) => { e.stopPropagation(); speak(currentCard.q); }} className="p-3 rounded-full bg-slate-50 dark:bg-slate-700 text-slate-400 hover:text-indigo-600 transition-colors">
                                                            <i data-lucide="volume-2" className="w-5 h-5"></i>
                                                        </button>
                                                        <div className="text-[10px] font-bold text-slate-300 dark:text-slate-600 flex items-center gap-1">
                                                            <i data-lucide="mouse-pointer-2" className="w-3 h-3"></i> TIKLA VE ÖĞREN
                                                        </div>
                                                    </div>
                                                </div>
                                                
                                                {/* Arka Yüz */}
                                                <div className="absolute inset-0 backface-hidden bg-indigo-600 rounded-[2.5rem] shadow-xl p-10 flex flex-col items-center justify-center text-center rotate-y-180 text-white">
                                                    <span className="absolute top-8 text-[10px] font-black text-indigo-300 uppercase tracking-[0.3em]">CEVAP</span>
                                                    <p className="text-lg md:text-xl font-bold leading-relaxed mb-10">{currentCard.a}</p>
                                                    
                                                    <div className="flex gap-4" onClick={(e) => e.stopPropagation()}>
                                                        <button onClick={() => handleScore('correct')} className="bg-white text-indigo-600 px-8 py-4 rounded-2xl font-black text-sm flex items-center gap-2 hover:bg-green-50 transition-all shadow-lg active:scale-95">
                                                            <i data-lucide="check-circle-2" className="w-5 h-5"></i> DOĞRU
                                                        </button>
                                                        <button onClick={() => handleScore('wrong')} className="bg-indigo-700/50 text-white px-8 py-4 rounded-2xl font-black text-sm flex items-center gap-2 hover:bg-red-500 transition-all border border-indigo-400/30 active:scale-95">
                                                            <i data-lucide="x-circle" className="w-5 h-5"></i> YANLIŞ
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="w-full bg-slate-200 dark:bg-slate-700 h-1.5 rounded-full overflow-hidden">
                                            <div className="bg-indigo-600 h-full transition-all duration-500" style={{width: `${progress}%`}}></div>
                                        </div>
                                    </div>
                                )
                            )}

                            {view === 'list' && (
                                <div className="space-y-6 animate-in slide-in-from-right duration-500">
                                    <div className="relative">
                                        <i data-lucide="search" className="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"></i>
                                        <input 
                                            type="text" 
                                            placeholder="Kartlar arasında ara..." 
                                            className="w-full pl-12 pr-4 py-4 bg-white dark:bg-slate-800 border rounded-2xl focus:ring-2 ring-indigo-500 outline-none dark:text-white"
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                        />
                                    </div>
                                    <div className="grid gap-4">
                                        {filteredCards.map(card => (
                                            <div key={card.id} className="bg-white dark:bg-slate-800 p-6 rounded-2xl border shadow-sm group">
                                                <div className="flex justify-between items-start mb-2">
                                                    <h3 className="font-black text-slate-800 dark:text-white pr-8">{card.q}</h3>
                                                    {learnedCards.has(card.id) && <i data-lucide="check-circle" className="text-green-500 w-5 h-5 shrink-0"></i>}
                                                </div>
                                                <p className="text-sm text-slate-500 dark:text-slate-400 leading-relaxed italic">{card.a}</p>
                                                <button onClick={() => speak(card.a)} className="mt-4 text-[10px] font-bold text-indigo-500 uppercase flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
                                                    <i data-lucide="play-circle" className="w-3 h-3"></i> Dinle
                                                </button>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            )}

                            {view === 'print' && (
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 pb-20 animate-in slide-in-from-bottom-4">
                                    {cards.map((card) => (
                                        <div key={card.id} className="print-card bg-white dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700 rounded-2xl overflow-hidden">
                                            <div className="p-6 border-b-2 border-dashed border-slate-100 dark:border-slate-700 min-h-[100px] flex flex-col justify-center">
                                                <span className="text-[10px] font-black text-indigo-500 mb-2">SORU</span>
                                                <p className="text-sm font-bold text-slate-800 dark:text-white">{card.q}</p>
                                            </div>
                                            <div className="p-6 bg-slate-50 dark:bg-slate-900/50 min-h-[100px] flex flex-col justify-center">
                                                <span className="text-[10px] font-black text-slate-400 mb-2">CEVAP</span>
                                                <p className="text-xs text-slate-600 dark:text-slate-300 italic">{card.a}</p>
                                            </div>
                                        </div>
                                    ))}
                                    <div className="md:col-span-2 text-center no-print mt-10">
                                        <button onClick={() => window.print()} className="bg-indigo-600 text-white px-10 py-5 rounded-[2rem] font-black hover:bg-indigo-700 shadow-xl shadow-indigo-200 dark:shadow-none transition-all flex items-center gap-3 mx-auto uppercase tracking-widest text-sm">
                                            <i data-lucide="printer" className="w-5 h-5"></i> PDF Olarak Kaydet
                                        </button>
                                    </div>
                                </div>
                            )}
                        </main>
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>